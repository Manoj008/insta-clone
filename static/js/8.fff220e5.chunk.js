(this["webpackJsonpinsta-clone"]=this["webpackJsonpinsta-clone"]||[]).push([[8],{74:function(e,t,s){"use strict";s.r(t);var r=s(5),n=s.n(r),c=s(9),a=s(14),l=s(2),o=s(7),i=s(23),u=s(12),j=s(29),d=s(8),f=s(25),h=s.n(f),m=s(26),b=s(60),p=s.n(b),x=s(1);var O=function(e){var t=e.photosCount,s=e.profile,r=e.followerCount,u=e.setFollowerCount,j=Object(m.a)().user,d=Object(l.useState)(!1),f=Object(a.a)(d,2),h=f[0],b=f[1],O=j.username&&j.username!==s.username,g=Object(o.g)();Object(l.useEffect)((function(){var e=function(){var e=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.h)(j.username,s.userId);case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();j.username&&s.userId&&e()}),[j.username,s.userId,s.followers,s.following]);var w=function(){var e=Object(c.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!h),e.next=3,Object(i.k)(j.docId,s.userId,h);case 3:return e.next=5,Object(i.j)(s.docId,j.userId,h);case 5:u({followerCount:h?r-1:r+1});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"grid grid-cols-3 gap-4 justify-between mx-auto max-w-screen-lg mb-16 mt-16",children:[Object(x.jsx)("div",{className:"container flex justify-center",children:s.username&&Object(x.jsx)("img",{className:"rounded-full h-40 w-40 flex",alt:"".concat(s.username," profile pic"),src:s.profilePicture?s.profilePicture:"/images/avatars/dali.jpg"})}),Object(x.jsxs)("div",{className:"flex items-center justify-center  flex-col col-span-2",children:[Object(x.jsxs)("div",{className:"container flex items-center ",children:[Object(x.jsx)("p",{className:"text-2xl mr-4",children:s.username}),O?Object(x.jsx)("button",{type:"button",className:"bg-blue-600 font-bold text-sm rounded text-white w-20 h-8",onClick:w,children:h?"Unfollow":"Follow"}):Object(x.jsx)("button",{type:"button",className:"bg-gray-50 font-bold text-sm rounded text-gray-700 w-20 h-8",onClick:function(){g.push("/profile/edit/".concat(j.username))},children:"Edit Profile"})]}),Object(x.jsx)("div",{className:"container flex mt-4",children:void 0===s.followers||void 0===s.following?Object(x.jsx)(p.a,{count:1,width:677,height:24}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("p",{className:"mr-10",children:[Object(x.jsx)("span",{className:"font-bold",children:t}),"  ".concat(1===t?"post":"posts")]}),Object(x.jsxs)("p",{className:"mr-10",children:[Object(x.jsx)("span",{className:"font-bold",children:r}),"  ".concat(1===r?"follower":"followers")]}),Object(x.jsxs)("p",{className:"mr-10",children:[Object(x.jsx)("span",{className:"font-bold",children:s.following.length}),"  following"]})]})}),Object(x.jsx)("div",{className:"container mt-4",children:Object(x.jsx)("p",{className:"font-medium text-gray-700",children:s.fullName?s.fullName:Object(x.jsx)(p.a,{count:1,height:24})})}),Object(x.jsx)("div",{className:"container mt-1",children:Object(x.jsx)("p",{className:"text-gray-700",children:s.bio?s.bio:Object(x.jsx)(p.a,{count:1,height:48})})})]})]})};var g=function(e){var t=e.photos;return Object(x.jsxs)("div",{className:"h-16 border-t border-gray-300 mt-12 pt-4",children:[Object(x.jsx)("div",{className:"grid grid-cols-3 gap-8 mt-4 mb-12",children:t?t.length>0?t.map((function(e){return Object(x.jsxs)("div",{className:"relative group h-64  ",children:[Object(x.jsx)("img",{src:e.imageSrc,alt:e.caption,className:"object-cover w-full h-full"}),Object(x.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-full \r justify-evenly items-center bg-gray-500 bg-opacity-50 \r group-hover:flex hidden",children:Object(x.jsxs)("p",{className:"flex justify-between items-center text-white font-bold",children:[Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-8 mr-2",children:Object(x.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),e.likes.length,Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-5",viewBox:"0 0 20 20",fill:"currentColor",className:"w-8 h-8 ml-8 mr-2",children:Object(x.jsx)("path",{"fill-rule":"evenodd",d:"M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z","clip-rule":"evenodd"})}),e.comments.length]})})]},e.docId)})):null:Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(p.a,{count:12,width:320,height:400})})}),!t||0===t.length&&Object(x.jsx)("p",{className:"text-center text-2xl",children:"No Posts Yet"})]})};O.propTypes={user:h.a.shape({dateCreated:h.a.number.isRequired,emailAddress:h.a.string.isRequired,followers:h.a.array.isRequired,following:h.a.array.isRequired,fullName:h.a.string.isRequired,username:h.a.string.isRequired,userId:h.a.string.isRequired}).isRequired};var w=function(e){var t=e.user,s=Object(l.useReducer)((function(e,t){return Object(d.a)(Object(d.a)({},e),t)}),{profile:{},photosCollection:[],followerCount:0}),r=Object(a.a)(s,2),o=r[0],u=o.profile,j=o.photosCollection,f=o.followerCount,h=r[1];return Object(l.useEffect)((function(){function e(){return(e=Object(c.a)(n.a.mark((function e(){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.g)(t.userId);case 2:s=e.sent,h({profile:t,photosCollection:s,followerCount:t.followers.length});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(O,{photosCount:j?j.length:0,profile:u,followerCount:f,setFollowerCount:h}),Object(x.jsx)(g,{photos:j})]})};t.default=function(){var e=Object(o.h)().username,t=Object(l.useState)(null),s=Object(a.a)(t,2),r=s[0],d=s[1],f=Object(o.g)();return Object(l.useEffect)((function(){function t(){return(t=Object(c.a)(n.a.mark((function t(){var s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.f)(e);case 2:(s=t.sent).length>0?(d(s[0]),document.title="".concat(s[0].fullName," (@").concat(e,")")):f.push(u.d);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e,f]),(null===r||void 0===r?void 0:r.username)?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(j.a,{}),Object(x.jsx)("div",{className:" mx-auto max-w-screen-lg",children:Object(x.jsx)("div",{className:"mx-auto mx-w-screen-lg",children:Object(x.jsx)(w,{user:r})})})]}):null}}}]);
//# sourceMappingURL=8.fff220e5.chunk.js.map