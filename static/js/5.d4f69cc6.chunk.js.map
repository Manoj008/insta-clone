{"version":3,"sources":["components/sidebar/SuggestedProfile.js","components/sidebar/Suggestions.js","components/sidebar/User.js","components/sidebar/Index.js","hooks/UsePhotos.js","components/post/PostHeader.js","components/post/PostImage.js","components/post/PostActions.js","components/post/PostFooter.js","components/post/PostAddComment.js","components/post/PostComments.js","components/post/PostIndex.js","components/Timeline.js","pages/Dashboard.js"],"names":["SuggestedProfile","profileDocId","username","profilePic","profileId","userId","loggedInUserDocId","useState","followed","setFollowed","a","updateLoggedInUserFollowing","updateFollowedUserFollowers","className","src","alt","to","type","onClick","Suggestions","following","profiles","setProfiles","useEffect","getSuggestedProfiles","response","suggestedProfiles","length","map","profile","docId","suggestedUserPic","count","height","User","fullName","userProfilePic","prototype","PropTypes","string","isRequired","Sidebar","user","UseUser","profilePicture","UsePhotos","photos","setPhotos","useContext","UserContext","uid","getUSerByUserId","followedUserPhotos","getPhotos","sort","b","dateCreated","getTimelinePhotos","PostHeader","PostImage","caption","PostActions","totalLikes","likedPhoto","handleFocus","toggleLiked","setToggleLiked","likes","setLikes","FirebaseContext","firebase","FieldValue","handleToggleLiked","firestore","collection","doc","update","arrayRemove","arrayUnion","onKeyDown","e","key","xmlns","class","fill","viewBox","stroke","stroke-linecap","stroke-linejoin","stroke-width","d","strokeLinecap","strokeLinejoin","strokeWidth","PostFooter","PostAddComment","comments","setComments","commentInput","comment","setComment","displayName","handleSubmitComment","event","preventDefault","method","onSubmit","aria-label","autocomplete","name","value","placeholder","onChange","target","ref","disabled","Comment","item","PostComments","allComments","posted","showAllComments","setShowAllComments","slice","formatDistance","Date","Post","content","useRef","console","log","imageSrc","userLikedPhoto","current","focus","Timeline","for","fill-rule","clip-rule","id","hidden","accept","getBase64","files","then","result","savePost","catch","err","width","Dashboard","document","title","Header"],"mappings":"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","file":"static/js/5.d4f69cc6.chunk.js","sourcesContent":["import PropTypes from 'prop-types'\r\nimport React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { updateLoggedInUserFollowing, updateFollowedUserFollowers } from '../../services/Firbase';\r\n\r\nfunction SuggestedProfile({ profileDocId, username, profilePic, profileId, userId, loggedInUserDocId }) {\r\n\r\n    const [followed, setFollowed] = useState(false);\r\n\r\n    async function handleFollowUser() {\r\n        setFollowed(true)\r\n        await updateLoggedInUserFollowing(loggedInUserDocId, profileId, false);\r\n        await updateFollowedUserFollowers(profileDocId, userId, false);\r\n    }\r\n\r\n    return !followed ? (\r\n        <div className=\"flex flex-row items-center align-items justify-between\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <img\r\n                    className=\"rounded-full w-8 flex mr-3\"\r\n                    src={profilePic ? profilePic : \"/images/avatars/dali.jpg\"}\r\n                    alt=\"user profile pic\"\r\n                />\r\n                <Link to={`/profile/${username}`}>\r\n                    <p className=\"font-bold text-sm\">{username}</p>\r\n                </Link>\r\n            </div>\r\n            <div>\r\n                <button\r\n                    className=\"text-xs font-bold text-blue-500\"\r\n                    type=\"button\"\r\n                    onClick={handleFollowUser}\r\n                >\r\n                    Follow\r\n                </button>\r\n            </div>\r\n        </div>\r\n    ) : (\r\n        null\r\n    )\r\n}\r\n\r\nSuggestedProfile.propTypes = {\r\n    profileDocId: PropTypes.string.isRequired,\r\n    username: PropTypes.string.isRequired,\r\n    profileId: PropTypes.string.isRequired,\r\n    userId: PropTypes.string.isRequired,\r\n    loggedInUserDocId: PropTypes.string.isRequired,\r\n\r\n}\r\n\r\nexport default SuggestedProfile\r\n","import PropTypes from 'prop-types';\r\nimport React, { useEffect, useState } from 'react'\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport { getSuggestedProfiles } from '../../services/Firbase';\r\nimport SuggestedProfile from './SuggestedProfile';\r\n\r\nfunction Suggestions({ userId, following, loggedInUserDocId }) {\r\n\r\n    const [profiles, setProfiles] = useState(null);\r\n\r\n    useEffect(() => {\r\n        async function suggestedProfiles() {\r\n            const response = await getSuggestedProfiles(userId, following);\r\n            setProfiles(response);\r\n        }\r\n\r\n        if (userId) {\r\n            suggestedProfiles();\r\n        }\r\n    }, [userId]);\r\n    return !profiles ? (\r\n        <Skeleton count={1} height={150} className=\"mt-5\" />\r\n    ) :\r\n\r\n        profiles.length > 0 ? (\r\n            <div className=\"rounded flex flex-col \">\r\n                <div className=\"flex text-sm items-center align-items justify-between mb-2\">\r\n                    <p className=\"font-bold text-gray-500\">Suggestions for you</p>\r\n                </div>\r\n                <div className=\"mt-4 grid gap-5\">\r\n                    {profiles.map((profile) => (\r\n                        <SuggestedProfile\r\n                            key={profile.docId}\r\n                            profileDocId={profile.docId}\r\n                            username={profile.username}\r\n                            suggestedUserPic={profile.profilePic}\r\n                            profileId={profile.userId}\r\n                            userId={userId}\r\n                            loggedInUserDocId={loggedInUserDocId}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        ) : null\r\n\r\n}\r\n\r\nSuggestions.propTypes = {\r\n    userId: PropTypes.string,\r\n    following: PropTypes.array,\r\n    loggedInUserDocId: PropTypes.string\r\n}\r\nexport default Suggestions\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst User = ({ username, fullName, userProfilePic }) =>\r\n    !username || !fullName ? (\r\n        <Skeleton count={1} height={61} />\r\n    )\r\n        : (\r\n            <Link to={`/profile/${username}`} className='grid grid-cols-4 gap-4 mb-6 items-center '>\r\n                <div className='flex items-center justify-between col-span-1 w-12 h-12   mr-3 '>\r\n                    <img src={userProfilePic} alt=\"profile pic\" className=\"rounded-full w-12 h-12\" />\r\n                </div>\r\n                <div className=\"col-span-3\">\r\n                    <p className=\"font-bold text-sm\">{username}</p>\r\n                    <p className=\"text-sm\">{fullName}</p>\r\n                </div>\r\n            </Link>\r\n        )\r\n\r\nUser.prototype = {\r\n    username: PropTypes.string.isRequired,\r\n    fullName: PropTypes.string.isRequired,\r\n    fullName: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default User\r\n","import React from 'react'\r\nimport UseUser from '../../hooks/UseUser'\r\nimport Suggestions from './Suggestions';\r\nimport User from './User';\r\n\r\n\r\nfunction Sidebar() {\r\n\r\n    const { user } = UseUser();\r\n\r\n\r\n    return (\r\n        <div className=\"p-4 pt-0\">\r\n            <button></button>\r\n            <User username={user && user.username} fullName={user && user.fullName} userProfilePic={user.profilePicture ? user.profilePicture : \"/images/avatars/dali.jpg\"} />\r\n            <Suggestions userId={user && user.userId} following={user && user.following} loggedInUserDocId={user && user.docId} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar\r\n","import { useContext, useEffect, useState } from 'react'\r\nimport UserContext from '../context/User';\r\nimport { getPhotos, getUSerByUserId } from '../services/Firbase';\r\n\r\nfunction UsePhotos() {\r\n    const [photos, setPhotos] = useState(null);\r\n    const {\r\n        user: { uid: userId = '' }\r\n    } = useContext(UserContext)\r\n\r\n    useEffect(() => {\r\n        async function getTimelinePhotos() {\r\n            let user = await getUSerByUserId(userId)\r\n            let following;\r\n            if (user) {\r\n                [{ following }] = user;\r\n            }\r\n            let followedUserPhotos = [];\r\n\r\n            if (following.length > 0) {\r\n                followedUserPhotos = await getPhotos(userId, following);\r\n            }\r\n            followedUserPhotos.sort((a, b) => b.dateCreated - a.dateCreated);\r\n            setPhotos(followedUserPhotos);\r\n        }\r\n\r\n        getTimelinePhotos();\r\n    }, [userId]);\r\n\r\n    return { photos }\r\n}\r\n\r\nexport default UsePhotos\r\n","import React from 'react';\r\nimport { PropTypes } from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction PostHeader({ username, profilePic }) {\r\n    return (\r\n        <div className=\"flex border-b border-gray-500 h-3 p-3 py-7\">\r\n            <div className=\"flex items-center\">\r\n                <Link to={`/profile/${username}`} className=\"flex items-center\">\r\n                    <div className=\"rounded-full bg-gradient-to-t from-red-400 to-pink-800 \r\n                        h-10 w-10 content-center flex flex-wrap mr-3\">\r\n                        <div className=\"rounded-full bg-white h-9 w-9 m-auto flex flex-wrap content-center items-center\">\r\n                            <img src={profilePic}\r\n                                className=\"rounded-full h-8 w-8 m-auto\"\r\n                                alt={`${username} profile pic`} />\r\n                        </div>\r\n                    </div>\r\n                    <p className=\"font-bold\">{username}</p>\r\n                </Link>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nPostHeader.propTypes = {\r\n    username: PropTypes.string.isRequired,\r\n    profilePic: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default PostHeader\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction PostImage({ src, caption }) {\r\n    return (\r\n        <img src={src} alt={caption} />\r\n    )\r\n}\r\n\r\nPostImage.propTypes = {\r\n    src: PropTypes.string.isRequired,\r\n    src: PropTypes.string\r\n}\r\n\r\nexport default PostImage\r\n","import React, { useContext, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport UserContext from '../../context/User';\r\nimport FirebaseContext from '../../context/Firebase'\r\n\r\nfunction PostActions({ docId, totalLikes, likedPhoto, handleFocus }) {\r\n\r\n    const {\r\n        user: { uid: userId = '' }\r\n    } = useContext(UserContext);\r\n\r\n    const [toggleLiked, setToggleLiked] = useState(likedPhoto);\r\n    const [likes, setLikes] = useState(totalLikes);\r\n    const { firebase, FieldValue } = useContext(FirebaseContext);\r\n\r\n    const handleToggleLiked = async () => {\r\n\r\n        setToggleLiked(!toggleLiked);\r\n        await firebase.firestore().collection('photos').doc(docId).update({\r\n            likes: toggleLiked ? FieldValue.arrayRemove(userId) : FieldValue.arrayUnion(userId)\r\n        })\r\n\r\n        setLikes((likes) => (toggleLiked ? likes - 1 : likes + 1))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"flex justify-between px-4 pt-2\">\r\n                <div className=\"flex\">\r\n                    <svg onClick={handleToggleLiked}\r\n                        onKeyDown={(e) => {\r\n                            if (e.key === 'Enter') {\r\n                                handleToggleLiked();\r\n                            }\r\n                        }}\r\n                        xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"\r\n                        className={`w-8 mr-4 select-none cursor-pointer ${toggleLiked ? 'fill-red text-red-600' : 'text-gray-800'}`}>\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\r\n                    </svg>\r\n                    <svg onClick={handleFocus}\r\n                        onKeyDown={(e) => {\r\n                            if (e.key === 'Enter') {\r\n                                handleFocus();\r\n                            }\r\n                        }}\r\n                        xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"\r\n                        className={`w-8 mr-4 select-none text-gray-800 cursor-pointer`}>\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\r\n                    </svg>\r\n                </div>\r\n            </div>\r\n            <div className=\"px-4 py-0 my-0\">\r\n                <p className=\"font-semibold\">{likes === 1 ? `${likes} like` : `${likes} likes `}</p>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nPostActions.propTypes = {\r\n    docId: PropTypes.string.isRequired,\r\n    totalLikes: PropTypes.number.isRequired,\r\n    likedPhoto: PropTypes.bool.isRequired,\r\n    handleFocus: PropTypes.func.isRequired\r\n}\r\n\r\nexport default PostActions\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction PostFooter({ caption, username, }) {\r\n    return (\r\n        <div className=\"px-4 pt-0 pb-0\">\r\n            <Link to={`/profile/${username}`}>\r\n                <span className=\"mr-1 font-medium text-gray-800\">{username}:</span>\r\n            </Link>\r\n            <span className=\"text-xs text-gray-800\">{caption}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nPostFooter.propTypes = {\r\n    caption: PropTypes.string.isRequired,\r\n    username: PropTypes.string.isRequired,\r\n}\r\n\r\n\r\nexport default PostFooter\r\n","import React, { useContext, useState } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport FirebaseContext from '../../context/Firebase';\r\nimport UserContext from '../../context/User';\r\n\r\n\r\nfunction PostAddComment({ docId, comments, setComments, commentInput }) {\r\n\r\n    const [comment, setComment] = useState('');\r\n    const { firebase, FieldValue } = useContext(FirebaseContext);\r\n    const { user: { displayName } } = useContext(UserContext);\r\n\r\n    const handleSubmitComment = (event) => {\r\n        event.preventDefault();\r\n        if (comment.length > 0) {\r\n            setComments([{ displayName, comment }, ...comments]);\r\n            setComment('');\r\n\r\n            return firebase.firestore().collection('photos').doc(docId).update({\r\n                comments: FieldValue.arrayUnion({ displayName, comment })\r\n            });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"border-t border-gray-500\">\r\n            <form\r\n                method=\"POST\"\r\n                onSubmit={handleSubmitComment}\r\n                className=\"flex justify-between px-0\">\r\n                <input aria-label=\"Add a Comment\" autocomplete=\"off\" type=\"text\" name=\"add-comment\"\r\n                    value={comment}\r\n                    placeholder=\"Add a comment...\"\r\n                    onChange={({ target }) => setComment(target.value)}\r\n                    ref={commentInput}\r\n                    className=\"text-sm text-gray-800 w-full mr-1 py-2 px-4\" />\r\n                <button className={`px-2 cursor-pointer  text-blue-500 ${!comment && 'opacity-25'} `}\r\n                    type=\"button\"\r\n                    disabled={comment.length < 1}\r\n                    onClick={handleSubmitComment}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 rotate-90\" viewBox=\"0 0 20 20\" fill=\"currentColor\"\r\n                        className=\"w-6 transform rotate-90\">\r\n                        <path d=\"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z\" />\r\n                    </svg>\r\n                </button>\r\n            </form>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nPostAddComment.propTypes = {\r\n    docId: PropTypes.string.isRequired,\r\n    comments: PropTypes.array.isRequired,\r\n    setComment: PropTypes.func.isRequired,\r\n    commentInput: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default PostAddComment\r\n","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { formatDistance } from 'date-fns';\r\nimport { Link } from 'react-router-dom';\r\nimport PostAddComment from './PostAddComment';\r\n\r\n\r\nfunction PostComments({ docId, comments: allComments, posted, commentInput }) {\r\n\r\n    const [comments, setComments] = useState(allComments);\r\n    const [showAllComments, setShowAllComments] = useState(false);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"px-4 py-2\">\r\n                {comments.length >= 3 && (\r\n                    <p className=\"text-sm text-gray-800 mb-0 cursor-pointer\" onClick={() => setShowAllComments(!showAllComments)}>\r\n                        {showAllComments ? (`show less comments`) : (`View all ${comments.length} comments`)}\r\n                    </p>\r\n                )}\r\n                {showAllComments ? (\r\n                    comments.slice(0, 10).map((item) =>\r\n                        <Comment key={`${item.comment}-${item.displayName}`} item={item} />\r\n                    )) : (comments.slice(0, 2).map((item) =>\r\n                        <Comment key={`${item.comment}-${item.displayName}`} item={item} />\r\n                    ))}\r\n                <p className=\"text-gray-800 text-xs mt-1\">{formatDistance(posted, new Date())} ago</p>\r\n            </div>\r\n            <PostAddComment\r\n                docId={docId}\r\n                comments={comments}\r\n                setComments={setComments}\r\n                commentInput={commentInput}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nfunction Comment({ item }) {\r\n    return (\r\n        <p className=\"mb-0\" >\r\n            <Link to={`/profile/${item.displayName}`}>\r\n                <span className=\"mr-1 font-medium text-gray-800\">\r\n                    {item.displayName}:\r\n                            </span>\r\n            </Link>\r\n            <span className=\"text-xs\">{item.comment}</span>\r\n        </p>\r\n    )\r\n}\r\n\r\nPostComments.propTypes = {\r\n    doc: PropTypes.string.isRequired,\r\n    comments: PropTypes.array.isRequired,\r\n    posted: PropTypes.number.isRequired,\r\n    commentInput: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default PostComments\r\n","import { useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport PostHeader from './PostHeader';\r\nimport PostImage from './PostImage';\r\nimport PostActions from './PostActions';\r\nimport PostFooter from './PostFooter';\r\nimport PostComments from './PostComments';\r\n\r\nfunction Post({ content }) {\r\n\r\n    const commentInput = useRef(null);\r\n    const handleFocus = () => commentInput.current.focus();\r\n\r\n    return (\r\n        <div className=\"rounded col-span-4 border bg-white border-gray-500 mb-8\">\r\n            {console.log(\"post profile\", content.profilePicture)}\r\n            <PostHeader username={content.username} profilePic={content.profilePicture ? content.profilePicture : \"/images/avatars/dali.jpg\"} />\r\n            <PostImage src={content.imageSrc} caption={content.caption} />\r\n            <PostActions\r\n                docId={content.docId}\r\n                totalLikes={content.likes.length}\r\n                likedPhoto={content.userLikedPhoto}\r\n                handleFocus={handleFocus}\r\n            />\r\n            <PostFooter caption={content.caption} username={content.username} />\r\n            <PostComments\r\n                docId={content.docId}\r\n                comments={content.comments}\r\n                posted={content.dateCreated}\r\n                commentInput={commentInput} />\r\n        </div>\r\n    )\r\n}\r\n\r\nPost.propTypes = {\r\n    content: PropTypes.shape({\r\n        username: PropTypes.string.isRequired,\r\n        imageSrc: PropTypes.string.isRequired,\r\n        caption: PropTypes.string.isRequired,\r\n        docId: PropTypes.string.isRequired,\r\n        userLikedPhoto: PropTypes.bool.isRequired,\r\n        likes: PropTypes.string.isRequired,\r\n        comments: PropTypes.array.isRequired,\r\n        dateCreated: PropTypes.number.isRequired\r\n    }).isRequired\r\n}\r\n\r\nexport default Post\r\n","import { useRef, useState } from 'react';\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport UsePhotos from '../hooks/UsePhotos';\r\nimport UseUser from '../hooks/UseUser';\r\nimport { getBase64 } from '../services/Default';\r\nimport { savePost } from '../services/Firbase';\r\nimport Post from './post/PostIndex';\r\n\r\nfunction Timeline() {\r\n    const { photos } = UsePhotos();\r\n    const { user } = UseUser();\r\n\r\n\r\n\r\n    const onSelectHandler = (e) => {\r\n        getBase64(e.target.files[0])\r\n            .then(result => {\r\n                savePost(user, result)\r\n                console.log(`result`, result)\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"container col-span-2\">\r\n            <div className=\" flex items-center px-4 mx-2 mb-4\">\r\n                <div className=\" flex flex-col h-0 w-2/5 border border-gray-500\"></div>\r\n                <div className=\" flex flex-col items-center w-1/5 py-2\">\r\n                    <label for=\"file-upload\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-14 w-14\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                            <path fill-rule=\"evenodd\" d=\"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V8z\" clip-rule=\"evenodd\" />\r\n                        </svg>\r\n                    </label>\r\n                </div>\r\n                <div className=\" flex flex-col h-0 w-2/5 border border-gray-500\"></div>\r\n            </div>\r\n\r\n            <input\r\n                type=\"file\"\r\n                id=\"file-upload\"\r\n                hidden\r\n                accept=\".jpeg, .png, .jpg\"\r\n                onChange={onSelectHandler}\r\n            />\r\n\r\n            {\r\n                !photos ? (\r\n                    <>\r\n                        <Skeleton count={1} width={640} height={400} className=\"mb-5\" />\r\n                    </>\r\n                ) : (\r\n                    photos.length > 0 ?\r\n                        (photos.map((content) =>\r\n                            <Post key={content.docId} content={content} />)\r\n                        )\r\n                        : (\r\n                            <p className=\"text-center text-2xl\">\r\n                                Follow pages to see photos\r\n                            </p>\r\n                        )\r\n                )\r\n            }\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Timeline\r\n","import React, { useEffect } from 'react'\r\nimport Header from '../components/Header';\r\nimport Sidebar from '../components/sidebar/Index';\r\nimport Timeline from '../components/Timeline';\r\n\r\nfunction Dashboard() {\r\n\r\n    useEffect(() => {\r\n        document.title = 'Insta';\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"bg-gray-100\">\r\n            <Header />\r\n            <div className=\"grid grid-cols-3 gap-4 justify-between mx-auto max-w-screen-lg mt-16\">\r\n                <Timeline />\r\n                <Sidebar />\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Dashboard\r\n"],"sourceRoot":""}