{"version":3,"sources":["components/Loader.js","components/post/PostActions.js","components/post/PostFooter.js","components/post/PostAddComment.js","components/post/PostComments.js","components/sidebar/SuggestedProfile.js","components/sidebar/Suggestions.js","components/sidebar/User.js","components/sidebar/Index.js","hooks/UsePhotos.js","components/post/PostHeader.js","components/post/PostImage.js","components/post/PostIndex.js","components/Timeline.js","pages/Dashboard.js"],"names":["Loader","class","PostActions","docId","totalLikes","likedPhoto","handleFocus","useContext","UserContext","user","uid","userId","useState","toggleLiked","setToggleLiked","likes","setLikes","FirebaseContext","firebase","FieldValue","handleToggleLiked","a","firestore","collection","doc","update","arrayRemove","arrayUnion","className","onClick","onKeyDown","e","key","xmlns","fill","viewBox","stroke","stroke-linecap","stroke-linejoin","stroke-width","d","strokeLinecap","strokeLinejoin","strokeWidth","PostFooter","caption","username","to","PostAddComment","comments","setComments","commentInput","comment","setComment","displayName","handleSubmitComment","event","preventDefault","length","method","onSubmit","aria-label","autocomplete","type","name","value","placeholder","onChange","target","ref","disabled","Comment","item","PostComments","allComments","posted","showAllComments","setShowAllComments","slice","map","formatDistance","Date","SuggestedProfile","profileDocId","suggestedUserPic","profileId","loggedInUserDocId","followed","setFollowed","updateLoggedInUserFollowing","updateFollowedUserFollowers","src","process","alt","substring","Suggestions","following","profiles","setProfiles","useEffect","getSuggestedProfiles","response","suggestedProfiles","profile","profilePicture","count","height","User","fullName","userProfilePic","prototype","PropTypes","string","isRequired","Sidebar","UseUser","UsePhotos","photos","setPhotos","getUSerByUserId","followedUserPhotos","getPhotos","sort","b","dateCreated","getTimelinePhotos","PostHeader","profilePic","PostImage","content","imageSrc","Post","useRef","userLikedPhoto","current","focus","Timeline","for","fill-rule","clip-rule","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","id","hidden","accept","getBase64","files","then","result","savePost","catch","err","Dashboard","document","title","Header"],"mappings":"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","file":"static/js/4.900c62f2.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Loader = () => {\r\n    let circleCommonClasses = 'h-2.5 w-2.5 bg-current rounded-full';\r\n\r\n    return (\r\n        <div class=\"fixed top-0 left-0 right-0 bottom-0 w-full h-screen z-50 overflow-hidden bg-gray-700 opacity-75 flex flex-col items-center justify-center\">\r\n            <div class=\"loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4\"></div>\r\n            <h2 class=\"text-center text-white text-xl font-semibold\">Loading...</h2>\r\n            <p class=\"w-1/3 text-center text-white\">This may take a few seconds</p>\r\n        </div>\r\n    );\r\n};\r\nexport default Loader\r\n","import React, { useContext, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport UserContext from '../../context/User';\r\nimport FirebaseContext from '../../context/Firebase'\r\n\r\nfunction PostActions({ docId, totalLikes, likedPhoto, handleFocus }) {\r\n\r\n    const {\r\n        user: { uid: userId = '' }\r\n    } = useContext(UserContext);\r\n\r\n    const [toggleLiked, setToggleLiked] = useState(likedPhoto);\r\n    const [likes, setLikes] = useState(totalLikes);\r\n    const { firebase, FieldValue } = useContext(FirebaseContext);\r\n\r\n    const handleToggleLiked = async () => {\r\n\r\n        setToggleLiked(!toggleLiked);\r\n        await firebase.firestore().collection('photos').doc(docId).update({\r\n            likes: toggleLiked ? FieldValue.arrayRemove(userId) : FieldValue.arrayUnion(userId)\r\n        })\r\n\r\n        setLikes((likes) => (toggleLiked ? likes - 1 : likes + 1))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"flex justify-between px-4 pt-2\">\r\n                <div className=\"flex\">\r\n                    <svg onClick={handleToggleLiked}\r\n                        onKeyDown={(e) => {\r\n                            if (e.key === 'Enter') {\r\n                                handleToggleLiked();\r\n                            }\r\n                        }}\r\n                        xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"\r\n                        className={`w-8 mr-4 select-none cursor-pointer ${toggleLiked ? 'fill-red text-red-600' : 'text-gray-800'}`}>\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\r\n                    </svg>\r\n                    <svg onClick={handleFocus}\r\n                        onKeyDown={(e) => {\r\n                            if (e.key === 'Enter') {\r\n                                handleFocus();\r\n                            }\r\n                        }}\r\n                        xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"\r\n                        className={`w-8 mr-4 select-none text-gray-800 cursor-pointer`}>\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\r\n                    </svg>\r\n                </div>\r\n            </div>\r\n            <div className=\"px-4 py-0 my-0\">\r\n                <p className=\"font-semibold\">{likes === 1 ? `${likes} like` : `${likes} likes `}</p>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nPostActions.propTypes = {\r\n    docId: PropTypes.string.isRequired,\r\n    totalLikes: PropTypes.number.isRequired,\r\n    likedPhoto: PropTypes.bool.isRequired,\r\n    handleFocus: PropTypes.func.isRequired\r\n}\r\n\r\nexport default PostActions\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction PostFooter({ caption, username, }) {\r\n    return (\r\n        <div className=\"px-4 pt-0 pb-0\">\r\n            <Link to={`/profile/${username}`}>\r\n                <span className=\"mr-1 font-medium text-gray-800\">{username}:</span>\r\n            </Link>\r\n            <span className=\"text-xs text-gray-800\">{caption}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nPostFooter.propTypes = {\r\n    caption: PropTypes.string.isRequired,\r\n    username: PropTypes.string.isRequired,\r\n}\r\n\r\n\r\nexport default PostFooter\r\n","import React, { useContext, useState } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport FirebaseContext from '../../context/Firebase';\r\nimport UserContext from '../../context/User';\r\n\r\n\r\nfunction PostAddComment({ docId, comments, setComments, commentInput }) {\r\n\r\n    const [comment, setComment] = useState('');\r\n    const { firebase, FieldValue } = useContext(FirebaseContext);\r\n    const { user: { displayName } } = useContext(UserContext);\r\n\r\n    const handleSubmitComment = (event) => {\r\n        event.preventDefault();\r\n        if (comment.length > 0) {\r\n            setComments([{ displayName, comment }, ...comments]);\r\n            setComment('');\r\n\r\n            return firebase.firestore().collection('photos').doc(docId).update({\r\n                comments: FieldValue.arrayUnion({ displayName, comment })\r\n            });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"border-t border-gray-500\">\r\n            <form\r\n                method=\"POST\"\r\n                onSubmit={handleSubmitComment}\r\n                className=\"flex justify-between px-0\">\r\n                <input aria-label=\"Add a Comment\" autocomplete=\"off\" type=\"text\" name=\"add-comment\"\r\n                    value={comment}\r\n                    placeholder=\"Add a comment...\"\r\n                    onChange={({ target }) => setComment(target.value)}\r\n                    ref={commentInput}\r\n                    className=\"text-sm text-gray-800 w-full mr-1 py-2 px-4\" />\r\n                <button className={`px-2 cursor-pointer  text-blue-500 ${!comment && 'opacity-25'} `}\r\n                    type=\"button\"\r\n                    disabled={comment.length < 1}\r\n                    onClick={handleSubmitComment}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 rotate-90\" viewBox=\"0 0 20 20\" fill=\"blue\"\r\n                        className=\"w-6 transform rotate-90\">\r\n                        <path d=\"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z\" />\r\n                    </svg>\r\n                </button>\r\n            </form>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nPostAddComment.propTypes = {\r\n    docId: PropTypes.string.isRequired,\r\n    comments: PropTypes.array.isRequired,\r\n    setComment: PropTypes.func.isRequired,\r\n    commentInput: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default PostAddComment\r\n","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { formatDistance } from 'date-fns';\r\nimport { Link } from 'react-router-dom';\r\nimport PostAddComment from './PostAddComment';\r\n\r\n\r\nfunction PostComments({ docId, comments: allComments, posted, commentInput }) {\r\n\r\n    const [comments, setComments] = useState(allComments);\r\n    const [showAllComments, setShowAllComments] = useState(false);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"px-4 py-2\">\r\n                {comments.length >= 3 && (\r\n                    <p className=\"text-sm text-gray-800 mb-0 cursor-pointer\" onClick={() => setShowAllComments(!showAllComments)}>\r\n                        {showAllComments ? (`show less comments`) : (`View all ${comments.length} comments`)}\r\n                    </p>\r\n                )}\r\n                {showAllComments ? (\r\n                    comments.slice(0, 10).map((item) =>\r\n                        <Comment key={`${item.comment}-${item.displayName}`} item={item} />\r\n                    )) : (comments.slice(0, 2).map((item) =>\r\n                        <Comment key={`${item.comment}-${item.displayName}`} item={item} />\r\n                    ))}\r\n                <p className=\"text-gray-800 text-xs mt-1\">{formatDistance(posted, new Date())} ago</p>\r\n            </div>\r\n            <PostAddComment className=\"bottom-0\"\r\n                docId={docId}\r\n                comments={comments}\r\n                setComments={setComments}\r\n                commentInput={commentInput}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nfunction Comment({ item }) {\r\n    return (\r\n        <p className=\"mb-0\" >\r\n            <Link to={`/profile/${item.displayName}`}>\r\n                <span className=\"mr-1 font-medium text-gray-800\">\r\n                    {item.displayName}:\r\n                            </span>\r\n            </Link>\r\n            <span className=\"text-xs\">{item.comment}</span>\r\n        </p>\r\n    )\r\n}\r\n\r\nPostComments.propTypes = {\r\n    doc: PropTypes.string.isRequired,\r\n    comments: PropTypes.array.isRequired,\r\n    posted: PropTypes.number.isRequired,\r\n    commentInput: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default PostComments\r\n","import PropTypes from 'prop-types'\r\nimport React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { updateLoggedInUserFollowing, updateFollowedUserFollowers } from '../../services/Firbase';\r\n\r\nfunction SuggestedProfile({ profileDocId, username, suggestedUserPic, profileId, userId, loggedInUserDocId }) {\r\n\r\n    const [followed, setFollowed] = useState(false);\r\n\r\n    async function handleFollowUser() {\r\n        setFollowed(true)\r\n        await updateLoggedInUserFollowing(loggedInUserDocId, profileId, false);\r\n        await updateFollowedUserFollowers(profileDocId, userId, false);\r\n    }\r\n\r\n    return !followed ? (\r\n        <div className=\"grid md:grid-cols-8 md:gap-4 items-center\">\r\n            <div className=\"block  md:flex md:col-span-6 items-center justify-between md:px-2\">\r\n                <Link to={`/profile/${username}`} className=\"md:flex md:items-center text-center w-10 md:w-full\">\r\n                    <img\r\n                        className=\"rounded-full w-10 h-10  mx-4 md:mx-0 md:pd-0\"\r\n                        src={suggestedUserPic ? suggestedUserPic : process.env.PUBLIC_URL + \"/images/avatars/dali.jpg\"}\r\n                        alt=\"user profile pic\"\r\n                    />\r\n                    <p className=\"font-bold text-sm md:mx-3 hidden md:block\">{username.length > 8 ? username.substring(0, 8) + '.' : username}</p>\r\n                </Link>\r\n            </div>\r\n            <div>\r\n                <button\r\n                    className=\"text-xs font-bold text-blue-500 hidden md:block\"\r\n                    type=\"button\"\r\n                    onClick={handleFollowUser}\r\n                >\r\n                    Follow\r\n                </button>\r\n            </div>\r\n        </div>\r\n    ) : (\r\n        null\r\n    )\r\n}\r\n\r\nSuggestedProfile.propTypes = {\r\n    profileDocId: PropTypes.string.isRequired,\r\n    username: PropTypes.string.isRequired,\r\n    profileId: PropTypes.string.isRequired,\r\n    userId: PropTypes.string.isRequired,\r\n    loggedInUserDocId: PropTypes.string.isRequired,\r\n\r\n}\r\n\r\nexport default SuggestedProfile\r\n","import PropTypes from 'prop-types';\r\nimport React, { useEffect, useState } from 'react'\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport { getSuggestedProfiles } from '../../services/Firbase';\r\nimport SuggestedProfile from './SuggestedProfile';\r\n\r\nfunction Suggestions({ userId, following, loggedInUserDocId }) {\r\n\r\n    const [profiles, setProfiles] = useState(null);\r\n\r\n    useEffect(() => {\r\n        async function suggestedProfiles() {\r\n            const response = await getSuggestedProfiles(userId, following);\r\n            setProfiles(response);\r\n        }\r\n\r\n        if (userId) {\r\n            suggestedProfiles();\r\n        }\r\n    }, [userId]);\r\n    return !profiles ? (\r\n        <Skeleton count={1} height={150} className=\"mt-5\" />\r\n    ) :\r\n\r\n        profiles.length > 0 ? (\r\n            <div className=\"rounded absolute top-16  md:static md:flex md:flex-col  \">\r\n                <div className=\"flex text-sm items-center align-items justify-between mb-2\">\r\n                    {profiles && <p className=\"font-bold text-gray-500 ml-3 md:ml-0\">Suggestions for you</p>}\r\n                </div>\r\n                <div className=\" rounded-md flex md:grid md:gap-5 overflow-x-auto max-w-full w-10/12 mx-3 px-1 py-2 bg-gray-300 md:px-2 md:mx-0 \">\r\n                    {profiles.map((profile) => (\r\n                        <SuggestedProfile\r\n                            key={profile.docId}\r\n                            profileDocId={profile.docId}\r\n                            username={profile.username}\r\n                            suggestedUserPic={profile.profilePicture}\r\n                            profileId={profile.userId}\r\n                            userId={userId}\r\n                            loggedInUserDocId={loggedInUserDocId}\r\n                        />\r\n                    ))}\r\n                </div>\r\n\r\n            </div>\r\n        ) : null\r\n\r\n}\r\n\r\nSuggestions.propTypes = {\r\n    userId: PropTypes.string,\r\n    following: PropTypes.array,\r\n    loggedInUserDocId: PropTypes.string\r\n}\r\nexport default Suggestions\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst User = ({ username, fullName, userProfilePic }) =>\r\n    !username || !fullName ? (\r\n        <Skeleton count={1} height={61} />\r\n    )\r\n        : (\r\n            <Link to={`/profile/${username}`} className='hidden md:grid grid-cols-4 gap-4 mb-6 items-center '>\r\n                <div className='flex items-center justify-between col-span-1 w-12 h-12   mr-3 '>\r\n                    <img src={userProfilePic} alt=\"profile pic\" className=\"rounded-full w-12 h-12\" />\r\n                </div>\r\n                <div className=\"col-span-3\">\r\n                    <p className=\"font-bold text-sm\">{username}</p>\r\n                    <p className=\"text-sm\">{fullName}</p>\r\n                </div>\r\n            </Link>\r\n        )\r\n\r\nUser.prototype = {\r\n    username: PropTypes.string.isRequired,\r\n    fullName: PropTypes.string.isRequired,\r\n    fullName: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default User\r\n","import React from 'react'\r\nimport UseUser from '../../hooks/UseUser'\r\nimport Suggestions from './Suggestions';\r\nimport User from './User';\r\n\r\n\r\nfunction Sidebar() {\r\n\r\n    const { user } = UseUser();\r\n\r\n\r\n    return (\r\n        <div className=\"p-4 pt-0 max-h-40\">\r\n            <User username={user && user.username} fullName={user && user.fullName} userProfilePic={user.profilePicture ? user.profilePicture : process.env.PUBLIC_URL + \"/images/avatars/dali.jpg\"} />\r\n            <Suggestions userId={user && user.userId} following={user && user.following} loggedInUserDocId={user && user.docId} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar\r\n","import { useContext, useEffect, useState } from 'react'\r\nimport UserContext from '../context/User';\r\nimport { getPhotos, getUSerByUserId } from '../services/Firbase';\r\n\r\nfunction UsePhotos() {\r\n    const [photos, setPhotos] = useState(null);\r\n    const {\r\n        user: { uid: userId = '' }\r\n    } = useContext(UserContext)\r\n\r\n    useEffect(() => {\r\n        async function getTimelinePhotos() {\r\n            let user = await getUSerByUserId(userId)\r\n            let following;\r\n            if (user) {\r\n                [{ following }] = user;\r\n            }\r\n            let followedUserPhotos = [];\r\n\r\n            if (following) {\r\n                if (following.length > 0) {\r\n                    followedUserPhotos = await getPhotos(userId, following);\r\n                }\r\n            }\r\n            followedUserPhotos.sort((a, b) => b.dateCreated - a.dateCreated);\r\n            setPhotos(followedUserPhotos);\r\n        }\r\n\r\n        getTimelinePhotos();\r\n    }, [userId]);\r\n\r\n    return { photos }\r\n}\r\n\r\nexport default UsePhotos\r\n","import React from 'react';\r\nimport { PropTypes } from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction PostHeader({ username, profilePic }) {\r\n    return (\r\n        <div className=\"flex border-b border-gray-500 h-3 p-3 py-7\">\r\n            <div className=\"flex items-center\">\r\n                <Link to={`/profile/${username}`} className=\"flex items-center\">\r\n                    <div className=\"rounded-full bg-gradient-to-t from-red-400 to-pink-800 \r\n                        h-10 w-10 content-center flex flex-wrap mr-3\">\r\n                        <div className=\"rounded-full bg-white h-9 w-9 m-auto flex flex-wrap content-center items-center\">\r\n                            <img src={profilePic}\r\n                                className=\"rounded-full h-8 w-8 m-auto\"\r\n                                alt={`${username} profile pic`} />\r\n                        </div>\r\n                    </div>\r\n                    <p className=\"font-bold\">{username}</p>\r\n                </Link>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nPostHeader.propTypes = {\r\n    username: PropTypes.string.isRequired,\r\n    profilePic: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default PostHeader\r\n","import React, { useContext, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport FirebaseContext from '../../context/Firebase';\r\nimport UserContext from '../../context/User';\r\n\r\nfunction PostImage({ content }) {\r\n\r\n    const [toggleLiked, setToggleLiked] = useState(content.likedPhoto);\r\n    const [likes, setLikes] = useState(content.likes.length);\r\n    const {\r\n        user: { uid: userId = '' }\r\n    } = useContext(UserContext);\r\n\r\n    const { firebase, FieldValue } = useContext(FirebaseContext);\r\n\r\n\r\n    const handleToggleLiked = async () => {\r\n\r\n        console.log(\"double cliked\");\r\n        setToggleLiked(!toggleLiked);\r\n        await firebase.firestore().collection('photos').doc(content.docId).update({\r\n            likes: toggleLiked ? FieldValue.arrayRemove(userId) : FieldValue.arrayUnion(userId)\r\n        })\r\n\r\n        setLikes((likes) => (toggleLiked ? likes - 1 : likes + 1))\r\n    }\r\n\r\n\r\n    return (\r\n        <img src={content.imageSrc} alt={content.caption}\r\n        //  onDoubleClick={handleToggleLiked}\r\n        />\r\n    )\r\n}\r\n\r\nPostImage.propTypes = {\r\n    src: PropTypes.string.isRequired,\r\n    src: PropTypes.string\r\n}\r\n\r\nexport default PostImage\r\n","import { useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport PostHeader from './PostHeader';\r\nimport PostImage from './PostImage';\r\nimport PostActions from './PostActions';\r\nimport PostFooter from './PostFooter';\r\nimport PostComments from './PostComments';\r\n\r\nfunction Post({ content }) {\r\n\r\n    const commentInput = useRef(null);\r\n    const handleFocus = () => commentInput.current.focus();\r\n\r\n    return (\r\n        <div className=\"rounded col-span-4 border bg-white border-gray-500 mb-8 mx-8 md:mx-4\">\r\n            <PostHeader username={content.username} profilePic={content.profilePicture ? content.profilePicture : \"/images/avatars/dali.jpg\"} />\r\n            <PostImage content={content} />\r\n            <PostActions\r\n                docId={content.docId}\r\n                totalLikes={content.likes.length}\r\n                likedPhoto={content.userLikedPhoto}\r\n                handleFocus={handleFocus}\r\n            />\r\n            <PostFooter caption={content.caption} username={content.username} />\r\n            <PostComments\r\n                docId={content.docId}\r\n                comments={content.comments}\r\n                posted={content.dateCreated}\r\n                commentInput={commentInput} />\r\n        </div>\r\n    )\r\n}\r\n\r\nPost.propTypes = {\r\n    content: PropTypes.shape({\r\n        username: PropTypes.string.isRequired,\r\n        imageSrc: PropTypes.string.isRequired,\r\n        caption: PropTypes.string.isRequired,\r\n        docId: PropTypes.string.isRequired,\r\n        userLikedPhoto: PropTypes.bool.isRequired,\r\n        likes: PropTypes.string.isRequired,\r\n        comments: PropTypes.array.isRequired,\r\n        dateCreated: PropTypes.number.isRequired\r\n    }).isRequired\r\n}\r\n\r\nexport default Post\r\n","import { useRef, useState } from 'react';\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport UsePhotos from '../hooks/UsePhotos';\r\nimport UseUser from '../hooks/UseUser';\r\nimport { getBase64 } from '../services/Default';\r\nimport { savePost } from '../services/Firbase';\r\nimport Post from './post/PostIndex';\r\nimport { ToastContainer, toast, zoom, bounce } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Loader from './Loader';\r\n\r\nfunction Timeline() {\r\n    const { photos } = UsePhotos();\r\n    const { user } = UseUser();\r\n\r\n\r\n\r\n    const onSelectHandler = (e) => {\r\n        getBase64(e.target.files[0])\r\n            .then(result => {\r\n                savePost(user, result)\r\n            })\r\n            .catch(err => {\r\n            });\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"container col-span-3 md:col-span-2 \">\r\n            <div className=\" flex items-center px-4 mx-4 mb-0 mt-28 md:mt-0\">\r\n                <div className=\" flex flex-col h-0 w-2/5 border border-gray-500\"></div>\r\n                <div className=\" flex flex-col items-center w-1/5 py-2\">\r\n                    <label for=\"file-upload\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-14 w-14\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                            <path fill-rule=\"evenodd\" d=\"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V8z\" clip-rule=\"evenodd\" />\r\n                        </svg>\r\n                    </label>\r\n                </div>\r\n                <div className=\" flex flex-col h-0 w-2/5 border border-gray-500\"></div>\r\n            </div>\r\n            <p className=\"text-center mx-6 sm:mx-4 lg:ml-0 mx-auto mb-4\">please upload a file less than 1MB, or else it will not upload</p>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={4000}\r\n                hideProgressBar={false}\r\n                newestOnTop={true}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <input\r\n                type=\"file\"\r\n                id=\"file-upload\"\r\n                hidden\r\n                accept=\".jpeg, .png, .jpg\"\r\n                onChange={onSelectHandler}\r\n            />\r\n\r\n            {\r\n                !photos ? (\r\n                    <>\r\n                        <Loader />\r\n                        {/* <Skeleton count={1} className=\"mb-5 w-auto h-auto\" /> */}\r\n                    </>\r\n                ) : (\r\n                    photos.length > 0 ?\r\n                        (photos.map((content) =>\r\n                            <Post key={content.docId} content={content} />)\r\n                        )\r\n                        : (\r\n                            <p className=\"text-center text-2xl\">\r\n                                Follow pages to see photos\r\n                            </p>\r\n                        )\r\n                )\r\n            }\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Timeline\r\n","import React, { useEffect } from 'react'\r\nimport Header from '../components/Header';\r\nimport Sidebar from '../components/sidebar/Index';\r\nimport Timeline from '../components/Timeline';\r\n\r\nfunction Dashboard() {\r\n\r\n    useEffect(() => {\r\n        document.title = 'Insta';\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"bg-gray-100 z-0\">\r\n            <Header className=\"z-20\" />\r\n            <div className=\"grid grid-cols-3 gap-4 justify-between mx-auto h-screen max-w-screen-lg mt-16 z-0\">\r\n                <Timeline />\r\n                <Sidebar />\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Dashboard\r\n"],"sourceRoot":""}